<script type="text/javascript">
  $(document).ready(function(){ 
    var calnedarIsExist = document.getElementsByClassName("datepicker-plot-area-inline-view").length;
    if (calnedarIsExist == 0) {

      var today_timestamp = Math.round((new Date()).getTime() / 1000);
       $("#date-picker").pDatepicker({
            maxDate: new persianDate().subtract('day', 1).valueOf(),
            dayPicker: {scrollEnabled: false},
            monthPicker: {scrollEnabled: false},
            persianDigit: true,
            format : "dddd - DD MMMM",
            /* format : "YYYY - MM - DD", */
            altFieldFormatter : function(unix){
                if (!unix) return '';
                var date =  new Date(unix);
                var day = date.getDate();
                if(day<10) {day = '0'+day};
                var month = date.getMonth() + 1;
                if(month<10) {month = '0'+month} ;
                var year = date.getFullYear();
                return year + '-' + month + '-' + day;
            },
            
            altField: '#date-picker-field',
            toolbox: {enabled:false},
            navigator: {
                enabled: true,
                text: {
                    btnNextText: ">",
                    btnPrevText: "<"
                }
            },
            autoClose: true,
            inline: false
        }); 
     }
    

    $('.ui.dropdown').dropdown('refresh');  
    // fix for turbolink does not show waiting modal after first time of form submit
    $("#flight_search").submit(function( event ) {$('.ui.basic.modal.waiting').modal('show');});
    }); 
</script>